"use strict";function show_import_project_modal(t,e){var a=$("#import_project_modal");$("#import_loading_spinner").hide(),a.modal()}function fillJSONContent(t){var e=JSON.parse(document.getElementById("auto_id").textContent);filecontents=$("#".concat(e)).prop("files")[0];var a=new FileReader;a.readAsText(filecontents),a.onload=function(t){$("#{aid}").val(t.target.result)}}jQuery(document).ready(function(n){n("#state_change").select2(),n("#type_change").select2();var t=0;n("li.usa-sidenav__item a").each(function(){"implemented"===n(this).data("status")&&++t}),n(".usa-step-indicator__current-step").text(t),n("#control-next").click(function(t){t.preventDefault();var e=n("#narrative-form"),a=n(this).attr("href");n.ajax({url:"/controls/smt/_save/",method:"POST",data:e.serialize()}).done(function(t){window.location=a})}),n("#control-save").click(function(t){t.preventDefault();var e=n("#narrative-form");n.ajax({url:"/controls/smt/_save/",method:"POST",data:e.serialize()}).done(function(t){window.location.reload()})}),n("#control-delete").click(function(t){var e,a;t.preventDefault(),confirm("Delete statement?")&&(e=n("#narrative-form"),a=(a=n("#control-next").attr("href"))||"/controls/"+n("#system_id").val()+"/component/"+n("#producer_element_id").val(),n.ajax({url:"/controls/smt/_delete/",method:"POST",data:e.serialize()}).done(function(t){window.location=a}))}),n(".add-control").click(function(t){t.preventDefault();var e=n(this).data("family"),a={};n("#"+e+" :input").each(function(t){var e=n(this);"sid"!==e.attr("name")&&(a[e.attr("name")]=e.val())}),n("#"+e+" :checkbox:checked").each(function(t){a.sid=n(this).val(),a.pid=n(this).val(),n.ajax({url:"/controls/smt/_save/",method:"POST",data:a})}),window.location.reload()})});